<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Site Title</title>
		<meta name="description" content="Site description to go here" />

		<link rel="stylesheet" href="css/template.min.css">

		<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700,800" rel="stylesheet">

	</head>

	<body class="home">
		<header class="flex flex-row flex-nowrap flex-center">

			<!-- tablet/desktop menu -->
			<div class="nav-wrapper flex flex-row flex-grow flex-valign-center">
				<img class="logo" src="images/logo.svg" alt="MXDC" />
				<nav class="flex flex-grow flex-row-end">
					<ul class="flex flex-row flex-valign-center desktop">
						<li><a href="#">Program</a></li>
						<li><a href="#">Partners</a></li>
						<li><a href="#">Locations</a></li>
						<li><a href="#">About MXDC</a></li>
						<li><a href="#">Contact us</a></li>
					</ul>
					<ul class="flex flex-row flex-valign-center mobile">
                        <li>
                            <div class="menu-icon">
                                <div class="line"></div>
                                <div class="line"></div>
                                <div class="line"></div>
                            </div>
                        </li>
						<!-- <li><img src="images/menu_icon.svg" /></li> -->
					</ul>
				</nav>
			</div>
		</header>
		
		<div class="page">

			<!-- mobile menu -->
			<div class="mobile-menu">
				<ul>
					<li><a href="#">Program</a></li>
					<li><a href="#">Partners</a></li>
					<li><a href="#">Locations</a></li>
					<li><a href="#">About MXDC</a></li>
					<li><a href="#">Contact us</a></li>
				</ul>
			</div>
			
			<div class="banner">
				<div class="text-container flex flex-center text-align-center">
					<h1><strong>MXDC Melbourne</strong><br>June 20 - 27</h1>
				</div>
			</div>
			<div class="content-wrapper flex flex-row flex-nowrap flex-center">
				<div class="content flex flex-row flex-grow">
		
					<div class="events-container row">
						<a href="#" class="event col-1 col-md-2 col-lg-3">
							<div class="event-image">
								<div class="image" style="background-image:url(images/desktop-tablet_placeholder-a.png)"></div>
							</div>
							<div class="event-text">
								<div class="event-title">
									<h3>Event Title</h3>
								</div>
								<div class="event-description">
									Lorum ipsum dolor
								</div>
							</div>
						</a>
		
						<a href="#" class="event col-1 col-md-2 col-lg-3">
							<div class="event-image">
								<div class="image" style="background-image:url(images/desktop-tablet_placeholder-a.png)"></div>
							</div>
							<div class="event-text">
								<div class="event-title">
									<h3>Event Title</h3>
								</div>
								<div class="event-description">
									Lorum ipsum dolor
								</div>
							</div>
						</a>
		
						<a href="#" class="event col-1 col-md-2 col-lg-3">
							<div class="event-image">
								<div class="image" style="background-image:url(images/desktop-tablet_placeholder-a.png)"></div>
							</div>
							<div class="event-text">
								<div class="event-title">
									<h3>Event Title</h3>
								</div>
								<div class="event-description">
									Lorum ipsum dolor
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>
	
			<footer class="flex flex-row flex-nowrap flex-center">
				<div class="footer-wrapper flex flex-row flex-grow flex-wrap flex-valign-center">
					<img class="flex logo" src="images/logo.svg" alt="MXDC" />
					<nav class="flex flex-grow flex-row-end">
						<ul class="flex flex-valign-center">
							<li><a href="#">Privacy</a></li>
							<li><a href="#">Terms and Conditions</a></li>
							<li><a href="#">Frequently Asked Questions</a></li>
							<li><a href="#">Contact us</a></li>
						</ul>
					</nav>
				</div>
			</footer>

		</div>



		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script type="text/javascript">

			const endpoint = 'https://s3-ap-southeast-2.amazonaws.com/studiobravo/FED+Project/events.json';
            var output = '';
			
			$(function(){

                // Activate/Deactivate mobile menu
				$('.menu-icon').click(function(){
                    $(this).toggleClass('active');
					$('.mobile-menu').toggleClass('show');
                })
                
                // Retrieve AJAX for events and populate HTML
                // Potential issue - if the format of the placeholders ever changes, this will also need to be updated
				$.ajax({
					type: "GET",
					dataType: 'json',
					url: endpoint,
					success: function(result){
						
						for(var i in result){
							output += '<a href="#" class="event col-1 col-md-2 col-lg-3">';
							output += '<div class="event-image"><div class="image" style="background-image:url( ' + result[i].imgUrlDesktop + ')"></div></div>';
							output += '<div class="event-text"><div class="event-title"><h3>' + result[i].title + '</h3></div><div class="event-description">' + result[i].description + '</div></div>';
							output += '</a>';
						}

						$('.events-container').html(output);
					},
					error: function(result, status){
						console.log('Error retrieving events JSON ' + status);
					}
				});
			})

		</script>

	</body>

</html>